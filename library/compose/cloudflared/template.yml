kind: compose
metadata:
  icon:
    provider: selfh
    id: cloudflared
  name: cloudflared
  description: "Setup a cloudflared tunnel using docker compose."
  version: 2026.2.0
  author: abh80
  date: "2026-02-21"
  tags:
    - cloudflare
    - tunnel
    - proxy
schema: "1.2"
spec:
  general:
    vars:
      service_name:
        default: cloudflared-tunnel
      container_timezone:
        type: str
      restart_policy:
        type: enum
        options:
          - unless-stopped
          - always
          - on-failure
          - "no"
        default: unless-stopped
        required: true
  auth:
    vars:
      credentials:
        type: str
        required: true
        default: "/home/ubuntu/.cloudflared/credentials.json"
        description: "Path to the Cloudflare credentials file."
      tunnel_uuid:
        type: str
        required: true
        description: "UUID of the Cloudflare tunnel."
      volume_credentials_mount:
        type: str
        required: true
        default: "/etc/cloudflared/credentials.json"
  network:
    vars:
      network_name:
        type: str
        required: true
        default: proxy
        description: "Name of the network to connect to."
